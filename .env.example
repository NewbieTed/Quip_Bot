# Database Configuration
DB_HOST=db
DB_PORT=5432
DB_NAME=quip_db
DB_USER=postgres
DB_PASSWORD=your_database_password_here

# Redis Configuration
REDIS_ENABLED=true
REDIS_HOST=quip-redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=2000
REDIS_CONNECT_TIMEOUT=2000

# Redis Connection Pool Configuration
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0
REDIS_POOL_MAX_WAIT=-1

# Cache TTL Configuration (in seconds)
CACHE_DEFAULT_TTL=3600000
CACHE_TTL_TOOL_WHITELIST=3600
CACHE_TTL_PROBLEM_CATEGORIES=86400
CACHE_TTL_SERVER_DATA=21600
CACHE_TTL_MEMBER_DATA=1800
CACHE_TTL_ASSISTANT_SESSION=7200
CACHE_TTL_TEMPORARY_DATA=300

# Application Redis Settings
APP_REDIS_DEFAULT_TTL=3600
APP_REDIS_HEALTH_INTERVAL=30000

# Retry and Circuit Breaker Configuration
REDIS_RETRY_MAX_ATTEMPTS=3
REDIS_RETRY_DELAY=1000
REDIS_CB_FAILURE_THRESHOLD=5
REDIS_CB_RECOVERY_TIMEOUT=30000

# Inter-service URLs for Docker networking (Chain: Frontend → Backend → Agent → MCP-Server)
BACKEND_URL=http://quip-backend-app:8080
AGENT_URL=http://quip-agent:5000
MCP_SERVER_URL=http://quip-mcp-server:8000/mcp
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@quip-db:${DB_PORT}/${DB_NAME}

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Tool Synchronization Configuration
TOOL_SYNC_CONSUMER_ENABLED=true
TOOL_SYNC_POLLING_TIMEOUT=5

# Tool Sync Recovery Configuration
TOOL_SYNC_RECOVERY_ENABLED=true
TOOL_SYNC_RECOVERY_TIMEOUT=10000
TOOL_SYNC_RECOVERY_MAX_RETRIES=3
TOOL_SYNC_RECOVERY_INITIAL_DELAY=1000

# Tool Sync Failure Detection Thresholds
TOOL_SYNC_FAILURE_CONSECUTIVE=5
TOOL_SYNC_FAILURE_INVALID_MESSAGES=10
TOOL_SYNC_FAILURE_TIME_WINDOW=60000

# Agent HTTP Endpoint Configuration for Sync Recovery
TOOL_SYNC_AGENT_URL=http://quip-agent:5001
TOOL_SYNC_AGENT_RESYNC_ENDPOINT=/api/tools/resync
TOOL_SYNC_AGENT_CONNECT_TIMEOUT=5000
TOOL_SYNC_AGENT_READ_TIMEOUT=10000

# Agent Tool Sync HTTP Server Configuration
TOOL_SYNC_HTTP_ENABLED=true
TOOL_SYNC_HTTP_HOST=0.0.0.0
TOOL_SYNC_HTTP_PORT=5001
TOOL_SYNC_HTTP_TIMEOUT=10

# Agent Tool Discovery Configuration
TOOL_DISCOVERY_TIMEOUT=10
TOOL_DISCOVERY_RETRY_ATTEMPTS=2
TOOL_DISCOVERY_RETRY_DELAY=1